[unix_http_server]
file=/run/supervisord.sock
chmod=0777

[supervisord]
logfile=/dev/null
pidfile=/run/supervisord.pid
nodaemon=true

[rpcinterface:supervisor]
supervisor.rpcinterface_factory = supervisor.rpcinterface:make_main_rpcinterface

[supervisorctl]
serverurl=unix:///run/supervisord.sock
chmod=0777

[program:openresty]
command=/usr/local/openresty/bin/openresty -g 'daemon off;'
autostart=true
autorestart=true
stopsignal=QUIT
stopasgroup=true
killasgroup=true

stdout_logfile=/dev/stdout
stdout_logfile_maxbytes=0
stderr_logfile=/dev/stderr
stderr_logfile_maxbytes=0

[program:openresty_config_test]
command=/usr/local/openresty/nginx/sbin/nginx -t
user=root
autostart=false
autorestart=false
startsecs=0
exitcodes=0
process_name=%(program_name)s
stdout_logfile=/tmp/openresty_config_test.log
stderr_logfile=/tmp/openresty_config_test.log
stdout_logfile_maxbytes=5KB
stderr_logfile_maxbytes=5KB
stdout_logfile_backups=0
stderr_logfile_backups=0